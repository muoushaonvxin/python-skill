
### 有关tornado项目的配置参数作用

<br/>

* debug: 作用为True开启调试模式, 为False表示关闭调试模式, 在开发阶段建议设置为True有利于提高开发效率(True的特性可以自动重启项目减少手动重启的次数, 但是如果代码当中有一些错误那么会导致项目重启失败, 修改之后需要手动进行重启)
* autoreload: 表示自动重启
* compiled_template_cache = False: 取消缓存编译的模版,默认值为True
* static_hash_cache = False: 取消缓存静态文件的hash值
* serve_traceback: 提供追踪信息
* static_path: 设置静态文件目录
* template_path: 设置模版文件目录

### 有关tornado项目的url配置

<br/>

* url支持传递参数

### 有关tornado项目的响应配置

* self.write("xxxx"): 表示返回的数据可以是任何数据也可以是json类型的数据
* self.set_header("Content-Type", "application/json; charset=UTF-8"): 设置请求头类型
* set_default_headers(): 设置第一时间生效的请求头

现在想要进行一个tornado项目的开发, 可以按照如下流程来做

设置一个config.py的配置文件
```config.py
import os
BASE_DIRS = os.path.dirname(__file__)

options = {
    "port": 9000,
}

settings = {
    "static_path": os.path.join(BASE_DIRS, "static"),
    "template_path": os.path.join(BASE_DIRS, "template"),
    "debug": True,
    "autoreload": True
}
```

一般而言handler类都会放在一个试图包里面去, 例如新建一个叫做views的python包以后业务逻辑的代码都放在这个目录当中去编写, 这样可以保证代码不乱, 有条而整的进行.

```package
views
 - __init__.py
 - index.py
```

编写index.py的代码逻辑

```python
import tornado.web
from tornado.web import RequestHandler
import json

class IndexHandler(RequestHandler):
    def get(self, *args, **kwargs):
        self.write("lucky guy")
        
class HomeHandler(RequestHandler):
    def get(self, *args, **kwargs):
        self.write("lucky guy")
        
class SunckHandler(RequestHandler):
    def initialize(self, word1, word2):
        self.word1 = word1
        self.word2 = word2

    def get(self, *args, **kwargs):
        self.write("sunck guy")
        
class Json1Handler(RequestHandler):
    def get(self, *args, **kwargs):
        mes = {"aaa": 123, "bbb": 456}
        jsonStr = json.dumps(mes)
        self.set_header("Content-Type", "application/json; charset=UTF-8")
        self.set_header("sunck", "good")
        self.write(jsonStr)
        
class Json2Handler(RequestHandler):
    def get(self, *args, **kwargs):
        mes = {"aaa": 123, "bbb": 456}
        self.write(mes)
        
class HeaderHandler(RequestHandler):
    def set_default_headers(self):
        self.set_header("Content-Type", "text/html; charset=UTF-8")

    def get(self, *args, **kwargs):
        pass
        
    def post(self, *args, **kwargs):
        pass
```


接下来需要将url设置给分离出来进行引用, 在根目录下创建一个 application.py 的文件
```python
import tornado.web
from views import index
import config

class Application(tornado.web.Application):
    def __init__(self):
        handlers = [
            (r'/', index.IndexHandler),
            (r'/home', index.HomeHandler),
            (r'/sunck', index.SunckHandler, {"word1": "good", "word2": "nice"}),
            (r'/json1', index.Json1Handler),
            (r'/json2', index.Json2Handler),
            (r'/header', index.HeaderHandler)
        ]
        super(Application, self).__init__(handlers, **config.settings)
```

主入口文件配置
```python
import config
from application import Application

if __name__ == "__main__":
    app = Application()
    httpServer = tornado.httpserver.HTTPServer(app)
    httpServer.bind(config.options.port)
    httpServer.start(1)
    tornado.ioloop.IOLoop.current().start()
```
