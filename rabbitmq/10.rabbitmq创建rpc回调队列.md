
## RabbitMQ 实现RPC机制层

<br/>

客户端发送请求(消息) 时, 在消息的属性 (MessageProperties, 在AMQP协议中定义了14种properties, 这些属性会随着消息一起发送) 中间设置了两个值 replyTo (一个Queue名称, 用于高速服务器处理完成后将通知我的消息发送到这个Queue中) 和 correlationid (此次请求的标识号, 服务器处理完成后需要将此属性返还, 客户端将根据这个id了解哪条请求被成功执行了或执行失败)

* 服务器端收到消息并处理
* 服务器端处理完消息后, 将生成一条应答消息到 replyTo 指定的Queue, 同时带上 correlationid 属性
* 客户端之前已订阅 replyTo 指向的 Queue, 从中受到服务器的应答消息后, 根据其中的 correlationid 属性分析哪条请求被执行了, 根据执行结果进行后续业务处理
